from collections import namedtuple

from simtools.file import File, DIRFile, XMLFile, S3DFile, ImageFile, FSHFile


Magic = namedtuple('Magic', ['type', 'description', 'cls'])


TID = {0xe86b1eef : Magic('DIR', 'Special Index Entry', DIRFile),
       
        0xbadb57f1 : Magic('S3D', 'SimGlide 3D Model', S3DFile),
        0x1abe787d : Magic('FSH', 'Texture File', FSHFile),
        0x0986135E : Magic('FSH', 'Base and Overlay Lot Textures', FSHFile),
        0x2BC2759A : Magic('FSH', 'Transit Network Shadows (Masks)', FSHFile),
        0x891B0E1A : Magic('FSH', 'Terrain and Foundation', FSHFile),
        0x49A593E7 : Magic('FSH', 'Animation Sprites (Non Props)', FSHFile),
        0x2A2458F9 : Magic('FSH', 'Animation Sprites (Props)', FSHFile),
       
       # own assumptions
        0x5ad0e817 : Magic('S3D', 'SimGlide 3D Model', S3DFile),
        0x7ab50e44 : Magic('FSH', 'Texture File', FSHFile),
        0x88777601 : Magic('XML', 'XML File', XMLFile),
        0x74807101 : Magic('JPEG', 'Compressed Image File', ImageFile),
        0x74807102 : Magic('JPEG', 'Compressed Image File', ImageFile),
        0x66778001 : Magic('BMP', 'Bitmap Image File', ImageFile),
        0x66778002 : Magic('BMP', 'Bitmap Image File', ImageFile),

       # SimPEG
        0x00000000 : Magic('UI', 'UI Data', File),
        0x0A284D0B : Magic('WGRA', 'Wall Graph', File),
        0x0B9EB87E : Magic('TRKS', 'Track Settings', File),
        0x0BF999E7 : Magic('LTXT', 'Lot Description', File),
        0x0C1FE246 : Magic('XMOL', 'Mesh Overlay XML', XMLFile),
        0x0C560F39 : Magic('BINX', 'Binary Index', File),
        0x0C7E9A76 : Magic('JPG',  'JPEG Image', ImageFile),
        0x0C900FDB : Magic('UNK',  'UNK: 0x0C900FDB', File),
        0x0C93E3DE : Magic('XFMD', 'Face Modifier XML', XMLFile),
        0x104F6A6E : Magic('BNFO', 'Business Info', File),
        0x1C4A276C : Magic('TXTR', 'Texture Image', File),
        0x2026960B : Magic('MP3',  'Sound File', File),
        0x25232B11 : Magic('SCEN', 'Scene Node', File),
        0x2A51171B : Magic('3ARY', '3D Array', File),
        0x2C1FD8A1 : Magic('XTOL', 'Texture Overlay XML', XMLFile),
        0x2C30E040 : Magic('THUB', 'Fence Arch Thumbnail', ImageFile),
        0x2C310F46 : Magic('POPS', 'Popups', File),
        0x2C43CBD4 : Magic('THUB', 'Foundation or Pool Thumbnail', ImageFile),
        0x2C488BCA : Magic('THUB', 'Dormer Thmbnail', ImageFile),
        0x2CB230B8 : Magic('XFNC', 'Fence XML', XMLFile),
        0x3053CF74 : Magic('SCOR', 'Sim: Scores', File),
        0x42434F4E : Magic('BCON', 'Behaviour Constant', File),
        0x42484156 : Magic('BHAV', 'Behaviour Function', File),
        0x424D505F : Magic('BMP',  'Bitmap Image', ImageFile),
        0x43415453 : Magic('CATS', 'Catalog String', File),
        0x43545353 : Magic('CTSS', 'Catalog Description', File),
        0x44475250 : Magic('DGRP', 'Layered Image', File),
        0x46414345 : Magic('FACE', 'Face Properties', File),
        0x46414D49 : Magic('FAMI', 'Family Information', File),
        0x46414D68 : Magic('FAMH', 'Family Unknown', File),
        0x46434E53 : Magic('FCNS', 'Function', File),
        0x46574156 : Magic('FWAV', 'Audio Reference', File),
        0x474C4F42 : Magic('GLOB', 'Global Data', File),
        0x484F5553 : Magic('HOUS', 'House Descriptor', File),
        0x49596978 : Magic('TXMT', 'Material Definition', File),
        0x49FF7D76 : Magic('WRLD', 'World Database', File),
        0x4B58975B : Magic('LTTX', 'Lot Texture', File),
        0x4C158081 : Magic('XSTN', 'Skin Tone XML', XMLFile),
        0x4C697E5A : Magic('MMAT', 'Material Override', File),
        0x4D51F042 : Magic('CINE', 'Cinematic Scene', File),
        0x4D533EDD : Magic('JPG',  'JPEG Image', ImageFile),
        0x4DCADB7E : Magic('XFLR', 'Floor XML', XMLFile),
        0x4E474248 : Magic('NGBH', 'Neighborhood/Memory', File),
        0x4E524546 : Magic('NREF', 'Name Reference', File),
        0x4E6D6150 : Magic('NMAP', 'Name Map', File),
        0x4F424A44 : Magic('OBJD', 'Object Data', File),
        0x4F424A66 : Magic('OBJf', 'Object Functions', File),
        0x4F626A4D : Magic('OBJM', 'Object Material?', File),
        0x4F6FD33D : Magic('INIT', 'Inventory Item', File),
        0x50414C54 : Magic('PALT', 'Image Color Palette (Version 1)', File),
        0x50455253 : Magic('UNK',  'UNK: 0x50455253', File),
        0x504F5349 : Magic('POSI', 'Stack Script', File),
        0x50544250 : Magic('PTBP', 'Package Text', File),
        0x53494D49 : Magic('SIMI', 'Sim Information', File),
        0x534C4F54 : Magic('SLOT', 'Slot File', File),
        0x53505232 : Magic('SPR2', 'Sprites', File),
        0x53545223 : Magic('STR#', 'Text Lists', File),
        0x54415454 : Magic('TATT', 'TATT', File),
        0x54505250 : Magic('TPRP', 'Edith Simantics Behaviour Labels', File),
        0x5452434E : Magic('TRCN', 'Behaviour Constant Labels', File),
        0x54524545 : Magic('TREE', 'Edith Flowchart Trees', File),
        0x54535053 : Magic('GROP', 'Groups Cache', File),
        0x54544142 : Magic('TTAB', 'Pie Menu Functions', File),
        0x54544173 : Magic('TTAS', 'Pie Menu Strings', File),
        0x584D544F : Magic('XMTO', 'Material Object?', File),
        0x584F424A : Magic('XOBJ', 'Object XML', XMLFile),
        0x61754C1B : Magic('SLUA', 'SimPE Object Lua', File),
        0x6A97042F : Magic('LGHT', 'Lighting (Environment Cube Light)', File),
        0x6B943B43 : Magic('LOTG', 'Lot Terrain Geometry', File),
        0x6C4F359D : Magic('COLL', 'Collection', File),
        0x6C589723 : Magic('UNK',  'UNK: 0x6C589723', File),
        0x6C93B566 : Magic('XFNU', 'Face Neural XML', XMLFile),
        0x6D619378 : Magic('XNGB', 'Neighborhood Object XML', XMLFile),
        0x6D814AFE : Magic('WNTT', 'Wants Tree Item', XMLFile),
        0x6F626A74 : Magic('OBJT', 'Object', File),
        0x7181C501 : Magic('PUNK', 'Pet Unknown', File),
        0x7B1ACFCD : Magic('UNK',  'UNK: 0x7B1ACFCD', File),
        0x7BA3838C : Magic('GMND', 'Geometric Node', File),
        0x856DDBAC : Magic('IMG',  'jpg/tga/png Image', ImageFile),
        0x8A84D7B0 : Magic('WLAY', 'Wall Layer', File),
        0x8B0C79D6 : Magic('UNK',  'UNK: 0x8B0C79D6', File),
        0x8C1580B5 : Magic('XHTN', 'Hair Tone XML', XMLFile),
        0x8C31125E : Magic('THUB', 'Wall Thumbnail', ImageFile),
        0x8C311262 : Magic('THUB', 'Floor Thumbnail', ImageFile),
        0x8C3CE95A : Magic('JPG',  'JPEG Image', ImageFile),
        0x8C870743 : Magic('FAMT', 'Family Ties', File),
        0x8C93BF6C : Magic('XFRG', 'Face Region XML', XMLFile),
        0x8C93E35C : Magic('XFCH', 'Face Arch XML', XMLFile),
        0x8CC0A14B : Magic('SDBA', 'UNK: 0x8CC0A14B', File),
        0x8DB5E4C2 : Magic('FXSD', 'FX Sound', File),
        0x9012468A : Magic('GLUA', 'Global Object Lua', File),
        0x9012468B : Magic('OLUA', 'Object Lua', File),
        0xA2E3D533 : Magic('KEYD', 'Accelerator Key Definitions', File),
        0xAACE2EFB : Magic('SDSC', 'Sim Description', File),
        0xAB4BA572 : Magic('FPST', 'Fence Post Layer', File),
        0xAB9406AA : Magic('UNK',  'UNK: 0xAB9406AA', File),
        0xABCB5DA4 : Magic('NHTG', 'Neighborhood Terrain Geometry', File),
        0xABD0DC63 : Magic('NHTR', 'Neighborhood Terrain', File),
        0xAC06A66F : Magic('LGHT', 'Lighting (Linear Fog Light)', File),
        0xAC06A676 : Magic('LGHT', 'Lighting (Draw State Light)', File),
        0xAC2950C1 : Magic('THUB', 'Thumbnail', File),
        0xAC4F8687 : Magic('GMDC', 'Geometric Data Container', File),
        0xAC506764 : Magic('3IDR', '3D ID Referencing File', File),
        0xAC598EAC : Magic('AGED', 'Age Data', File),
        0xAC8A7A2E : Magic('IDNO', 'ID Number', File),
        0xACA8EA06 : Magic('XROF', 'Roof XML', File),
        0xACE46235 : Magic('RTEX', 'Road Texture', File),
        0xADEE8D84 : Magic('NLO',  'Light Override', File),
        0xBA353CE1 : Magic('TSSG', 'TSSG System', File),
        0xBC66BAEC : Magic('UNK',  'UNK: 0xBC66BAEC', File),
        0xC9C81B9B : Magic('LGHT', 'Lighting (Directional Light)', File),
        0xC9C81BA3 : Magic('LGHT', 'Lighting (Ambient Light)', File),
        0xC9C81BA9 : Magic('LGHT', 'Lighting (Point Light)', File),
        0xC9C81BAD : Magic('LGHT', 'Lighting (Spot Light)', File),
        0xCAC4FC40 : Magic('SMAP', 'String Map', File),
        0xCB4387A1 : Magic('VERT', 'Vertex', File),
        0xCC2A6A34 : Magic('SCID', 'Sim Creation Index', File),
        0xCC30CDF8 : Magic('THUB', 'Fence Thumbnail', File),
        0xCC364C2A : Magic('SREL', 'Sim Relations', File),
        0xCC44B5EC : Magic('THUB', 'Modular Stair Thumbnail', ImageFile),
        0xCC489E46 : Magic('THUB', 'Roof Thumbnail', ImageFile),
        0xCC48C51F : Magic('THUB', 'Chimney Thumbnail', ImageFile),
        0xCCA8E925 : Magic('XOBJ', 'Object XML', XMLFile),
        0xCCCEF852 : Magic('LxNR', 'Facial Structure', File),
        0xCD7FE87A : Magic('MATSHAD','Maxis Material Shader', File),
        0xCD8B6498 : Magic('UNK',  'UNK: 0xCD8B6498', File),
        0xCD95548E : Magic('SWAF', 'Sim Wants and Fears', File),
        0xCDB467B8 : Magic('CREG', 'Content Registry', File),
        0xD1954460 : Magic('PBOP', 'Pet Body Options', File),
        0xE519C933 : Magic('CRES', 'Resource Node', File),
        0xE86B1EEF : Magic('CLST', 'Directory of Compressed Files', File),
        0xEA5118B0 : Magic('FX',   'Effects List', File),
        0xEBCF3E27 : Magic('GZPS', 'Property Set', File),
        0xEBFEE33F : Magic('SDNA', 'Sim DNA', File),
        0xEBFEE342 : Magic('VERS', 'Version Information', File),
        0xEBFEE345 : Magic('AUDT', 'Audio Test', File),
        0xEC3126C4 : Magic('THUB', 'Terrain Thumbnail', ImageFile),
        0xEC44BDDC : Magic('UNK',  'UNK: 0xEC44BDDC', File),
        0xED534136 : Magic('LIFO', 'Large Image File', File),
        0xED7D7B4D : Magic('XWNT', 'Wants XML', XMLFile),
        0xFA1C39F7 : Magic('OBJT', 'Object', File),
        0xFB00791E : Magic('ANIM', 'Animation Resource', File),
        0xFC6EB1F7 : Magic('SHPE', 'Shape', File),
        0xFFFFFFFF : Magic('----', '--- User Defined ---', File) }

# ltext1 typeid: 6534284a

def magic_index(index):
    if index.type_id in TID:
        return TID[index.type_id]
    else:
        return Magic('data', 'can be everything', File)